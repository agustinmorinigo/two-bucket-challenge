#  Test.
echo "ğŸ” Running tests before saving the commit..."
pnpm test
echo "âœ… Tests passed."

# Biome.
echo "ğŸ§¼ Formatting with Biome..."
pnpm biome check --write --changed --no-errors-on-unmatched

echo "ğŸ” Running Biome linter..."
pnpm biome check --changed --no-errors-on-unmatched

if [ $? -ne 0 ]; then
  echo "âŒ Biome found issues that can't be fixed automatically. Commit aborted."
  exit 1
fi

echo "âœ… Biome checks passed. Proceeding with commit."